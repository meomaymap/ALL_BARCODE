<html>
<head>
    <title>Html-Qrcode Demo</title>
<body>
    <div id="qr-reader" style="width:500px"></div>
    <div id="qr-reader-results"></div>
</body>
<script src="https://meomaymap.github.io/ALL_BARCODE/html5-qrcode.min.js"></script>
<script>
     _requestCamera: function() {
            var self = this;
            // This method will trigger user permissions
            Html5Qrcode.getCameras().then(devices => {
                var backCamera = devices[devices.length -1 ];
                self.cameraId = backCamera.id;
                self._initCamera();
            }).catch(err => {
                alert(err);
                //alert('Please allow camera permission to use barcode scanner');
                self.popupSearch.modal('closeModal');
            });
        },
        _initCamera: function() {
            if (!this.html5QrCode) {
                this.html5QrCode = new Html5Qrcode("quick-order-barcode-reader");
            }
            const config = { fps: 24, qrbox: 250 };
            $('#quick-order-barcode-search').trigger('processStart');
            // If you want to prefer back camera
            this.html5QrCode.start({ facingMode: "environment" }, config, this.qrCodeSuccessCallback.bind(this)).then(foo => {
                $('#quick-order-barcode-search').trigger('processStop');
            });
            //this.html5QrCode.start({ deviceId: { exact: self.cameraId} }, config, this.qrCodeSuccessCallback.bind(this));
        },
</script>
</head>
</html>
